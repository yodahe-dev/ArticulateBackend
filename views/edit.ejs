
<div class="max-w-2xl mx-auto bg-white p-6 mt-10 rounded-xl shadow-xl">
  <form id="editPostForm" action="/profile/edit-post" method="POST" enctype="multipart/form-data" class="space-y-6">
    <!-- Hidden ID -->
    <input type="hidden" name="id" value="<%= post.post_id %>">

    <!-- Title -->
    <div>
      <label for="title" class="block font-medium text-gray-700">Title</label>
      <input type="text" id="title" name="title" value="<%= post.title %>" required maxlength="100"
        class="w-full mt-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#f8b102]">
      <span id="titleError" class="text-red-500 text-sm hidden">Invalid title</span>
    </div>

    <!-- Content -->
    <div>
      <label for="content" class="block font-medium text-gray-700">Content</label>
      <textarea id="content" name="content" required maxlength="100000" rows="5"
        class="w-full mt-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#f8b102]"><%= post.content %></textarea>
      <span id="contentError" class="text-red-500 text-sm hidden">Invalid content</span>
    </div>

    <!-- Category -->
    <div>
      <label for="category" class="block font-medium text-gray-700">Category</label>
      <select id="category" name="category_id" required
        class="w-full mt-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#f8b102]">
        <% categories.forEach(category => { %>
          <option value="<%= category.category_id %>" <%= category.category_id === post.category_id ? 'selected' : '' %>
            data-emoji="<%= ['🌟','🎨','🚀','📚','🍕','⚡','🎉','💡','🌍','🎭','🏆','🍩'][Math.floor(Math.random()*12)] %>">
            <%= category.name %>
          </option>
        <% }) %>
      </select>
    </div>

    <!-- Thumbnail -->
    <div>
      <label class="block font-medium text-gray-700 mb-2">Thumbnail</label>
      <div id="upload-area"
        class="flex items-center justify-center w-full h-40 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-[#f8b102] transition">
        <span class="text-gray-500">Drag & drop or click to upload</span>
        <input type="file" name="thumbnail" accept="image/*" id="thumbnail" class="hidden">
        <span id="fileError" class="text-red-500 text-sm hidden">Upload a valid image</span>
      </div>

      <div id="preview-container" class="relative mt-4">
        <img id="preview-image" src="<%= post.thumbnail_url %>" alt="Preview"
          class="mx-auto max-h-64 rounded-lg object-contain transform transition duration-300">
        <div class="flex justify-center mt-2 space-x-4">
          <button type="button" onclick="zoom(-0.1)" class="bg-gray-200 px-3 py-1 rounded hover:bg-gray-300">-</button>
          <button type="button" onclick="zoom(0.1)" class="bg-gray-200 px-3 py-1 rounded hover:bg-gray-300">+</button>
        </div>
      </div>
    </div>

    <!-- Submit -->
    <div class="text-center">
      <button type="submit" class="bg-[#f8b102] text-white font-bold px-6 py-2 rounded-lg shadow-md hover:bg-[#e89b00] transition">
        💾 Update Post
      </button>
    </div>
  </form>
</div>

<script>
  
</script>
